# network size
SIZE 128

# parameters of periodic execution
CYCLES 140
# 1 cycle lasts 1s
CYCLE 10000

# parameters of message transfer
# delay values here are relative to cycle length, in percentage,
# eg 50 means half the cycle length, 200 twice the cycle length, etc.
MINDELAY 0
MAXDELAY 0
# drop is a probability, 0<=DROP<=1
DROP 0

random.seed 1234567890
network.size SIZE
simulation.endtime CYCLE*CYCLES
simulation.logtime CYCLE

protocol.lnk peersim.core.IdleProtocol

protocol.urt UniformRandomTransport
protocol.urt.mindelay (CYCLE*MINDELAY)/100
protocol.urt.maxdelay (CYCLE*MAXDELAY)/100

protocol.tr UnreliableTransport
protocol.tr.transport urt
protocol.tr.drop DROP

protocol.scut scuttlebutt.Scuttlebutt
protocol.scut.linkable lnk
protocol.scut.transport tr
protocol.scut.order breadth
protocol.scut.MTU 100
protocol.scut.keys 64
protocol.scut.step CYCLE

protocol.app scuttlebutt.Application
protocol.app.protocol scut
protocol.app.step CYCLE

init.rndlink WireKOut
init.rndlink.k SIZE
init.rndlink.protocol lnk

init.sch CDScheduler
init.sch.protocol scut
# simulate lack of synchronized clock
init.sch.randstart

init.sch2 CDScheduler
init.sch2.protocol app
init.sch.randstart

control.so scuttlebutt.ScuttlebuttObserver
control.so.protocol scut
control.so.step CYCLE
